doctype html
html(lang='en')
    head
        meta(charset='UTF-8')
        meta(name='viewport' content='width=device-width, initial-scale=1.0')
        title SignUp
        link(rel='stylesheet' href='/css/signup.css')
        link(rel='preconnect' href='https://fonts.googleapis.com')
        link(rel='preconnect' href='https://fonts.gstatic.com' crossorigin='')
        link(rel='icon' href='/img/logos/logo.png')
        link(href='https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css' rel='stylesheet' integrity='sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH' crossorigin='anonymous')
    body 
        nav
            .nav--left
                .logo
                    img(src='/img/logos/logo.png' alt='logo')
                p
                    | TechBlog
                    span.period .
            .nav--right
                a(href='/views/') Home
                a(href='/views/blogs') Blog
                a(href='/views/login') Log In
                a.sign-up(href='/views/signup') Sign Up
        main
            p Create account
            style.
                main p {
                top: -20%;
                }
            .div-form
                form.form-parent
                    .form-group
                        label(for='name') Name
                        input#name.form-control(type='text'  placeholder='Enter name')
                    .form-group
                        label(for='exampleInputEmail1') Email address
                        input#email.form-control(type='email' aria-describedby='emailHelp' placeholder='Enter email')
                    .form-group
                        label(for='exampleInputPassword1') Password
                        input#password.form-control(type='password' placeholder='Password')
                    .form-group
                        label(for='exampleInputPassword2') Confirm Password
                        input#confirm-password.form-control(type='password' placeholder='Confirm Password')
                    button.btn.btn-primary#submit-button(type='submit') Submit
        footer
            .footer--left
                p
                    | TechBlog
                    span.period .
            .footer--right
                .col
                    a(href='views/home')
                        ion-icon(name='accessibility-outline')
                        | Home
                    a(href='views/signup')
                        ion-icon(name='log-in-outline')
                        | SignUp
                    a(href='views/login')
                        ion-icon(name='log-in-outline')
                        | LogIn
                    a(href='views/blogs')
                        ion-icon(name='clipboard-outline')
                        | Blog
                .col
                    a(href='#')
                        ion-icon(name='logo-instagram')
                        | Instagram
                    a(href='#')
                        ion-icon(name='logo-twitter')
                        | X
                    a(href='#')
                        ion-icon(name='logo-linkedin')
                        | LinkedIn
                    a(href='#')
                        ion-icon(name='logo-facebook')
                        | Facebook
script(src='https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js' integrity='sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz' crossorigin='anonymous')
script(type='module' src='https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js')
script(nomodule='' src='https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js')
script. 
    document.getElementById('submit-button').addEventListener('click',async(e)=>{
        e.preventDefault();
        const name=document.getElementById('name').value;
        const email=document.getElementById('email').value;
        const password=document.getElementById('password').value;
        const passwordConfirm=document.getElementById('confirm-password').value;

        const formData={name,email,password,passwordConfirm}

        const apiURL='http://127.0.0.1:3000/api/v1/users/signup'
        const response=await fetch(apiURL,{
            method:'POST',
            headers:{
            'Content-type':'application/json',
            },
            body:JSON.stringify(formData)
        })
        const data=await(response.json())
        if(data.status==='success'){
            window.location.href='/views/blogs'
        }
        else{
            alert(data.message)
        }

    })


